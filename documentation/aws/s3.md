---
title: AWS
layout: page
tags:
  - project
  - koast-server
  - aws
  - s3
categories:
  - koast-server
weight: 500
anchors:
  s3: S3
---


## Simple Storage Service (S3) ##

{% highlight javascript %}

var access = process.env.AWS_ACCESS; // your AWS access key
var secret = process.env.AWS_SECRET; // AWS secret key
var bucket = process.env.AWS_S3_BUCKET; // Bucket name

var awsconf = {
  global: {
    accessKeyId: access,
    secretAccessKey: secret
  },

  s3: {
    bucket: bucket,

    // This function should generate the S3 file key (file path)
    makeKey:  function(req) {
      return 'file.txt';
    },

    // This function should write back a response
    respond: function (req, res, key) {
      res.send(200, {
        file: {
          url: 'http://s3xyz.com/file.txt'
        }
      });
    }
  }
};

{% endhighlight %}
